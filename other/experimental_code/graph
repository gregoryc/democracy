for b in *; do
grep . -q  $b || continue;
echo '<script>function f() { window.location.href = window.location.href; }; //setTimeout(f, 50);</script><body style="background-color: grey"><div style="position: absolute;transform:rotate(180deg);top:0px;left:0px;width: 500px; height:600px; background-color: red;"></body>'    > ../graph_$b.html; for ((i=0;  i<50;      ++i)); do cat           "$b"            | squeeze 2 0 | t 'proc { a = i.split[1].to_f / i.split[2].to_f - 1.0; puts i.split[1..2].inspect; a; }.call' | ruby -e 'lines = STDIN.read.split("\n")[-(n = ARGV[0].to_i)..]; lines = lines.map do |i| i.to_f; end; decrease = lines.sum / lines.size; puts("<div style='"'"'opacity: 1; display: inline-block;     background-color: rgb(#{((1..3).map do |i| (1..255).to_a.sample;90; end).join(", ")}); width: 10px; border: 1px solid pink; position: absolute;right:#{n*5}px; top: 0px;    height: #{decrease*5000.0}px'"'"'><div style=right:5px;top:#{450 + (n * 20) % 100}px;position:absolute;transform:rotate(180deg);><i>#{n + 1}</i></div></div>"); STDERR.puts  "last #{n + 1}" +  [" ", decrease, " "].join +             ARGV.join(" ")' $i               $b ; done >> /home/a/graph_$b.html
done